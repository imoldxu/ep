<div ng-controller="PrescriptionmCtrl">
  <div class="wrapper-md bg-light b-b">
    <h1 class="m-n font-thin h3">处方列表</h1>
  </div>
  <div class="hbox hbox-auto-xs hbox-auto-sm">
    <div class="col wrapper-md">
      <div class="clearfix m-b">
        <form class="form-inline ng-pristine ng-valid" role="form">
	      <div class="form-group">
			<label class="sr-only" for="inputBarcode">处方码</label>
			<input type="text" class="form-control" id="inputBarcode" placeholder="请输入处方码" ng-model="barcode">
		  </div>
		  <div class="form-group">
			<label class="sr-only" for="inputName">医生姓名</label>
			<input type="text" class="form-control" id="inputName" placeholder="请输入医生姓名" ng-model="doctorname">
		  </div>
		  <div class="form-group">
			<label class="sr-only" for="inputStartDate">开始日期</label>
			<input type="date" class="form-control" id="inputStartDate" placeholder="请选择开始日期" ng-model="startDate">
		  </div>
		  <div class="form-group">
			<label class="sr-only" for="inputEndDate">结束日期</label>
			<input type="date" class="form-control" id="inputEndDate" placeholder="请选择结束日期" ng-model="endDate">
		  </div>
	      <button type="submit" class="btn btn-default" ng-click="search()">搜索</button>
		</form>
      </div>
      <div class="panel panel-default">
		<div class="panel-heading">
		  处方
		</div>
		<div class="table-responsive">
		  <table class="table table-striped b-t b-light">
			<thead>
			  <tr>
				<th>处方码</th>
				<th>医院编号</th>
				<th>医院</th>
				<th>医生</th>
				<th>科室</th>
				<th>患者</th>
				<th>年龄</th>
				<th>性别</th>
				<th>电话</th>
				<th>创建时间</th>
				<th colspan="1">操作</th>
			  </tr>
			</thead>
			<tbody>
			  <tr ng-repeat="p in pList">
				<td>{{p.barcode}}</td>
				<td>{{p.sn}}</td>
				<td>{{p.hospitalname}}</td>
				<td>{{p.doctorname}}</td>
				<td>{{p.department}}</td>
				<td>{{p.patientname}}</td>
				<td>{{p.patientage}}</td>
				<td>{{p.patientsex}}</td>
				<td>{{p.patientphone}}</td>
				<td>{{dateFormat(p.createtime, 'yyyy-MM-dd HH:mm:ss')}}</td>
				<td><span class="pull-right" ng-click="show($index,'lg')">
					  <script type="text/ng-template" id="showPrescriptionModalContent.html">
						<div ng-include="'tpl/modal.showPrescription.html'"></div>
					  </script>
					  详情
					</span>
				</td>
			  </tr>
			</tbody>
		  </table>
		</div>
		<footer class="panel-footer">
		  <div class="row">
			<div class="col-sm-11 text-right text-center-xs">                
			  <ul class="pagination pagination-sm m-t-none m-b-none">
				<li><a ng-if="pageIndex != 1" ng-click="prePage()"><i class="fa fa-chevron-left"></i></a></li>
				<li><a ng-if="hasNextPage" ng-click="nextPage()"><i class="fa fa-chevron-right"></i></a></li>
			  </ul>
			</div>
		  </div>
		</footer>
	  </div>
    </div>
  </div>
</div>